# 11.19(89강~100강)

<둘때마당 chpater 6 - 그래픽>  => 중급

- 버튼, 뷰 화면에 선을 그리거나 그림을 그리는 기능.
- 화면에 보일때는 내부적으로 버튼도 다 그리는 것임
- 멀티터치 뷰어는 그래픽보고 나서 다시 보기

1.  빨간색 사각형 그리기  ==> MyView

   1) 뷰 위에 그래픽을 그리는 순서

   - 새로운 클래스를 만들고 뷰를 상속받음
   - 페인트 객체를 초기화하고 필요한 속성을 설정함
   - onDraw() 메소드 내에서 사각형을 그리는 메소드를 호출함
   - onTouch() 메소드 내에서 터치 이벤트를 처리하는 코드를 넣음
   - 새로 만든 뷰를 메인 액티비티에 추가함

2. 그래픽 그리기 ==> MyView

   1) 그래픽을 그리는데 사용되는 주요 클래스

   - 캔버스(Canvas) : 뷰의 표면에 직접 그릴 수 있도록 만들어주는 객체로 그래픽 그리기위한 메소드가 정의되어있음
   - 페인트(paint) : 그래픽 그리기를 위해 필요한 색상 등의 속성을 담고 있음
   - 비트맵(Bitmap)(메모리에 로딩된 이미지) : 픽셀로 구성된 이미지로 메모리 상에 그래픽을 그리는 데 사용함
   - 그리기 객체(Drawable) : 사각형, 이미지 등의 그래픽 요소가 객체로 정의되어 있음.

   2)  주의 메소드(캔버스 객체의 대표적인 메소드- 책참조)

   - paint.setStyle(Style.FILL); 꽉체우기
   - paint.setStyle(Style.STROKE); 선만
   - void drawPath(Path path, Paint paint) : 곡선, 여러개의 점을 이용해서 선을그리기 => 직접해보기

   3) 캔버스 객체의 

3. 그리기 객체로 만들어 그리기    ==> MyView

   1)  방법

   - 리소스 파일의 사용 : 프로젝트 리소스에 이미지와 같은 파일을 포함시킨 후 읽어 들여 사용함
   - XML로 정의하여 사용 : 그리기 객체의 속성을 정의한 XML 파일을 정의하여 사용함
   - 자바코드에서 객체를 만들어 사용 : 자바 코드에서 new 연산자를 이용하여 글기 객체를 만든후 사용함, 비트맵 이미지를 주어진 좌표값에 그림.

   2) drawable로 이루어져 있음 => 여러가지 정보를 더 설정가능, draw 메소드로 호출하면 그릴 수있음. 이밎도 넣어서 그릴 수도 있다., 사진도 동일하게 가능, 

   3) 사진 찍은 파일을 로딩해서 뷰에 그릴 수 있음. 그려주는게 장점일 수 도 있음.

   4) 그리기 객체는 drawable 객체를 이용하는 것.  캔버스를 이용했을때는 좌표값을 직접 지정해서 사용했지만,  좌표값을 drawable을 객체를 사용하면 , drawable객체 안으로 집어 넣을 수 있따. 각각의 선을 객체로 만들어넣으면 편하다.	

4. 비트맵 이미지 사용하기

   1) 사진을 메모리에 로딩하면, 비트맵이미지로 만들어짐 => 이미지 뷰를 사용했으나, 이번에는 뷰에 직접그리기

   2) 더블버퍼링 

   - 뷰위에 그래픽 그린후 다시 그리기를 할때 깜빡임현상발생
   - onDraw가 뜰때 그때 그리기 시작하면 성능문제 발생 
   - 좌표값을 이용해 그래픽을 그리는 시간을 줄이기 위해 메모리상의 비트맵 객체에 미리 그린후 비트맵 객체를 뷰에 그려주는 방식 

   ​

5. 페인트보드 만들기 (손글씨) ==>  MyPaintBoard 

   1) 그래픽을 그릴 수 있는 뷰

   - 뷰를 상속해서 새로운 뷰를 정의했따고 하면 그 안에 있는 onDraw()메소드에서 그릴 수 있고, 
   - 더블 버퍼링을 사용해서 메모리에 비트맵 객체를 만들고 거기에다 그리기해주고  onDraw()에서는 그냥 쀼려주는 역할 
   - 터치이벤트와 핸드로 글쓰는 과정도 같이
   - 여기서는 기본 -> 중간 -> 실무 단계로 넘어간다.

   2) goodPaintBoard = > 선색, 굵기 설정가능, 메니페스트에서 수정(책참조)

   3) 컬러 선택하는 대화상자 라이브러리  :안드로이드 아스널

   4) MyPaintBoard 기본 단계 정리 : ColorDialog에서 넘겨준 값을 가지고 paintBoard라는 객체의 setColor메소드를 이용해서 색상선택,  그리고 paint 객체 안에다 컬러값을 설정 선굵기도 대화상자를 따로 만들어서 해주면된다. ==> 중간, 실무단계는 책참조

     

6. 서피스뷰 사용하기(카메라 미리보기) ==> 안했음, 책보고 직접

   1) 카메라 렌즈에서 받아드리는 영상을 화면에 실시간으로 보여줘야함, 성능문제가 중요

   2)  카메라 미리보기는 서피스뷰를 사용한다. 

   3) 서피스뷰는 일정영역으로 할당을 받는다. 뷰영역 종류는 아니지만,... 또한 하드웨어 가속기능을 사용할 수 있다. 서피스뷰도 껍데기......

   4) 실제제어는 서피스 홀더로 제어

   ​

7. 그래픽을 위한 카메라 객체 사용하기, 옆에서보는것 같이.. ==> myimagescaletype

   ​

   1) 카메라 : 하드웨어 카메라, 소프트웨어 카메라 

   2) 소프트웨어 카메라 : 뭔가 보는 것, 입체감을 주기위한, 눈이 있는 위치에 따라....

   3) ImageView.scaleType의 상수값들 (책참조, 알아두면 좋다.)

​     

​       4)  커버플로우 ==> MyCoverFlow

- 갤러리를 상속해서 만듬, 갤러리는 지금 잘 사용하지 안음.  

- 갤러리는 내가 한 사진을 보려고 할때 양옆의 사진은 회전시켜서 보여주겠다. 

- translate 메소드, rotate 메소드 , scale 메소드 를 이해 결과 확인 .

  ​