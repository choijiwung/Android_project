# 11.14 안드로이드 31강~40강

1. 레이아웃 인플레이션 ==> MyInflator

   1) 화면이 동작하는 부분 : 자바 소스 코드

   2) 사용자가 보는 부분 : xml, 버튼이 있다고 클릭해서 되는게 아니고 인플레이터이라는 버튼의 객체화 과정이 필요함.

   3) 인플레이션 :  XML 레이아웃에 정의된 내용이 메모리에 객체화 되는 과정

   - setContentView() 메소드 역할 : 
     * 화면에 나타낼 뷰를 지정하는 역할
     * XML 레이아웃의 내용을 메모리 상에 객체화 하는 역할
     * 만약 전체화면이 아닌 부분화면인 경우 : setContentView()을 대신 LayoutInflator를 사용해야됨

   4) 눈모양과 자석모양이 X표시가 아니면 자동으로 제약조건형성

   5) setting editor auto import - optimize imports

   6) sub1.xml을 생성하고 부분화면 만든다. ID : container

2. 화면 구성과 화면 간 전환 ==> MyIntent

   1) 액티비티  구성요소 : 사용자가 아니라 안드로이드 시스템에서 관리

   - 액티비티 : 화면
   - 서비스 :  뒤에서 동작
   - 브로드캐스트 수신자 : sns문자 받았을 때, 받아서 처리하여 어떤 앱이 사용할지 결정
   - 내용제공자 : 보안때문에 폰안에 있는 사진들을 못가져옴, 내용제공자들을 통해  데이터를 가져옴

      => 액티비티, 서비스, 브로드캐스트 수신자를 많이 사용

   2) 새로운 화면은 새로운 엑티비티를 추가

   - menu 빈 액티비티 추가
   - main에 버튼하나 추가 : 동작을 위해서 xml에서 Onclick에서 추가하는 경우, ID를 지정하는 경우

   3) 액티비티 구성과정 정리

   - 새로운 엑티비티 만들기
   - 새로운 엑티비티의 XML 레이아웃 정의하기
   - 메인 액티비티에서 새로운 엑티비티 띄우기
   - 새로운 액티비티에서 응답보내기
   - 메인 액티비티에서 응답처리하기

      ==> 메인 엑티비티에서 메뉴엑티비티로 인텐트를 통해 넘기는데 시스템이 전달과정을 관리한다. 그러나         extra가 붙으면 시스템에서 관리하지 않고 바로전달, 다른 액티비트로 넘기는데 사용하는 방법 중 하나.

   ​

3. 인텐트 살펴보기 ==> myCallIntent

   1) 액티비티와 액티비티 / 액티비티와 서비스/액티비티와 브로드캐스트 사이에서 필요한 객체

   2)  액션과 데이터를 사용하는 대표적인 예(책참조, 시스템이 아래내용을 받으면 형식에 따라 알아서 보여줌)

   - ACTION_DIAL tel:010
   - ACTION_VIEW tel:010
   - ACTION_EDIT content
   - ACTION_VIEW content

   3) 명시적 인텐트 / 암시적 인텐트(알아서 띄어주는, 위에)

   - 공통속성 : 범주, 타입, 컴포넌트, 부가데이터 

   4) pdf를 띄어주는 intent를 만들어보기(숙제)

   - <users.permission~~> 읽는권한, 쓰는권한 menifest.xml 파일에 추가
   - 그러나 마시멜로 버전 이후에는 앱에서 실행될때도 띄어줘야할 때는 , build-graddle의 targetSdkVersion 25 을 22 로 바꾸고 오른쪽 상단에 sync now 클릭

4.  액티비티를 위한 플래그와 부가데이터 ==> MyParcelable 

   1) 여기선 인텐트대신 플래그로 전달해보자

   2) key value 외의 객체를 통해 보내보자

   3) 액티비티는 스택구조(책 그림 참조) ==> 쌓일때 원하는데로 화면이 안바뀔수도 있다. 

   - 플래그 : 두번째 액티비티를 연속을 쌓은 경우, 두번째 액티비티를 없애도 또 있으니까,  똑같은 걸 쌓일 때는 재사용하겠다.
   - 인텐드에 플래그 옵션을 넣어준다.
   - FLAG_ACTIVITY_SINGLE_TOP : 기존에 있는 걸 재사용, 자주사용
   - FLAG_ACTIVITY_NO_HISTORY
   - FLAG_ACTIVITY_CLEAR_TOP : 위에 있던걸을 없애준다. 중복제거(그림참조), 자주사용

   4) intent putExtra(String name String value) => String getStringExtra(String name) : put으로 넣고 get으로    

   ​    뺀다.

   5) 위에는 원시타입으로 데이터를 넣고 가져오는거, 그러나 객체타입이라면? 씨리얼라이져블 또는 Parcelable로  객체가 가지고 있는 데이터를 전달.(Parcelable를 권장 )

   6) 실습은 씨리얼 라이져블, parcelable 둘다 해봄 ==> service와 broadcast에서도 사용

   ​
